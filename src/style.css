/* /src/style.css */
/* Consolidated Styles - Saturday, 26 April 2025 */

/* === Basic Reset / Body Styling === */
body {
  margin: 0;
  overflow: hidden; /* Prevent scrollbars */
  font-family: sans-serif;
  background-color: #E0E0E0; /* Outer background */
}

/* === App Container - Foundation === */
#app {
  max-width: 400px; /* Phone-like width */
  margin: 0 auto; /* Center horizontally */
  position: relative; /* Establishes positioning context for absolute children */
  min-height: 100vh; /* Full viewport height */
  box-sizing: border-box;

  /* Background Image Styling (applied here) */
  background-color: #222; /* Fallback */
  background-size: cover;
  background-position: center center;
  background-repeat: no-repeat;
}

/* === Absolute Positioning for Content === */

/* Container for where the animated text will appear */
#animal-name-display {
  position: absolute;
  top: 40%; /* Target vertical position (adjust as needed) */
  left: 50%;
  transform: translate(-50%, -50%); /* Center the container */
  width: 90%; /* Prevent text content hitting edges */
  z-index: 10; /* Above background */
  /* Text alignment and specific styles are handled by the content (e.g., .falling-word) */
}

/* Button Assembly - Positioned at the bottom */
#button-assembly {
  position: absolute;
  bottom: 30px; /* Space from the bottom edge of #app */
  left: 50%;
  transform: translateX(-50%); /* Center horizontally */
  z-index: 10; /* Above background */
}

/* === Falling Letters Animation Styles === */

/* Container for the falling letters */
.falling-word {
  display: flex;         /* Use flex to layout spans */
  justify-content: center; /* Center spans horizontally within the h1 */
  color: white;          /* Text color */
  font-weight: bold;     /* Text weight */
  text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.7); /* Text shadow for readability */
  margin: 0;             /* Remove default h1 margin */
  padding: 0;            /* Remove default h1 padding */
  /* NOTE: No position or top properties here; relies on #animal-name-display */
}

/* Individual letter styling and animation setup */
.falling-word span {
  display: inline-block; /* Treat each letter as a block for transform */
  transform: translateY(-100vh); /* Start position way above the screen */
  /* Apply the 'drop' animation */
  animation: drop 1s cubic-bezier(0.33, 1.6, 0.66, 1) forwards;
  /* Font size for the letters (adjust as needed) */
  font-size: 2.5rem;
  /* Space between letters */
  margin: 0 2px;
}

/* Stagger the animation delays for each letter */
.falling-word span:nth-child(1) { animation-delay: 1.0s; }
.falling-word span:nth-child(2) { animation-delay: 1.1s; }
.falling-word span:nth-child(3) { animation-delay: 1.2s; }
.falling-word span:nth-child(4) { animation-delay: 1.3s; }
.falling-word span:nth-child(5) { animation-delay: 1.4s; }
.falling-word span:nth-child(6) { animation-delay: 1.5s; }
.falling-word span:nth-child(7) { animation-delay: 1.6s; }
/* Add more lines if your word has more letters */
/* .falling-word span:nth-child(8) { animation-delay: 1.7s; } */

/* Keyframes definition for the drop animation */
@keyframes drop {
  0% { /* Start state */
    transform: translateY(-100vh);
  }
  60% { /* Overshoot downwards */
    transform: translateY(20px);
  }
  75% { /* Bounce back up */
    transform: translateY(-12px);
  }
  85% { /* Smaller overshoot */
    transform: translateY(6px);
  }
  92% { /* Smaller bounce */
    transform: translateY(-3px);
  }
  100% { /* Final resting state */
    transform: translateY(0);
  }
}

/* === Button Component Styles === */

/* The outer gray ring - SIZE REDUCED */
#bezel {
  /* Size reduced by 50% from original */
  width: 17.5vmin;
  height: 17.5vmin;
  max-width: 145px;
  max-height: 145px;

  position: relative; /* Context for positioning #inner-button */
  border-radius: 50%; /* Make it round */
  background-color: #E0E0E0; /* Base color */
  background-image: linear-gradient( to bottom, #F5F5F5 0%, #D5D5D5 100% ); /* Gradient */

  /* Adjusted shadows for smaller size */
  box-shadow:
    1px 1px 3px rgba(0, 0, 0, 0.2), /* Outer shadow */
    inset 0px 0px 1px 1px rgba(0, 0, 0, 0.25), /* Inner edge shadow */
    inset 1px 1px 2px rgba(255, 255, 255, 0.7); /* Inner highlight */
}

/* The inner red button */
#inner-button {
  /* Size relative to bezel */
  width: 75%;
  height: 75%;
  /* Positioning within bezel */
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%); /* Center precisely */

  /* Visual Styles */
  border-radius: 50%;
  background-image: radial-gradient( circle at 50% 70%, #B83340 0%, #8F1521 50%, #580C1F 95% );
  /* Adjusted shadows slightly */
   box-shadow:
    inset 0px 0px 0px 1px rgba(88, 12, 31, 0.7), /* Inner edge definition */
    inset 0px 2px 3px rgba(0, 0, 0, 0.35), /* Inner top shadow */
    inset 0px -1px 1px rgba(255, 255, 255, 0.1); /* Faint inner bottom highlight */

  /* Interaction/Misc */
  cursor: pointer;
  user-select: none; /* Prevent text selection */
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
}

/* Depressed State Styling */
#inner-button.button-depressed {
  transform: translate(-50%, -50%) scale(0.95); /* Combine centering with scale */
  /* Adjusted shadows for flatter look */
  box-shadow:
    inset 0px 0px 0px 1px rgba(88, 12, 31, 0.7),
    inset 0px 1px 2px rgba(0, 0, 0, 0.5);
}

/* === Fullscreen Button Styling === */
#fullscreen-btn {
  position: fixed; /* Fixed relative to viewport */
  bottom: 15px;
  right: 15px;
  z-index: 100; /* Ensure it's above other content */
  background-color: rgba(50, 50, 50, 0.7);
  color: white; /* Affects text color and SVG fill */
  border: 1px solid rgba(255, 255, 255, 0.5);
  border-radius: 5px;
  padding: 5px;
  cursor: pointer;
  opacity: 0.7;
  transition: opacity 0.2s ease-in-out;
  display: inline-flex; /* Use flex powers */
  align-items: center; /* Center icon vertically */
  justify-content: center; /* Center icon horizontally */
}

#fullscreen-btn:hover {
  opacity: 1;
}

#fullscreen-btn svg {
  display: block; /* Ensure SVG takes space correctly */
  fill: currentColor; /* Use the button's text color */
}

/* Hiding/Showing fullscreen icons based on body class */
body.is-fullscreen #fullscreen-btn svg:first-of-type {
  display: none; /* Hide expand icon when fullscreen */
}
body:not(.is-fullscreen) #fullscreen-btn svg:last-of-type {
  display: none; /* Hide contract icon when not fullscreen */
}

/* === Transitions === */
/* Applied only after JS adds 'transitions-ready' to body */

body.transitions-ready #app {
  transition: background-image 0.3s ease-in-out;
}

body.transitions-ready #inner-button {
   transition: transform 0.1s ease-in-out,
             box-shadow 0.1s ease-in-out,
             background-image 0.1s ease-in-out;
}

/* Future: Add transition for #animal-name-display when animating */
/* body.transitions-ready #animal-name-display {
  transition: transform 0.5s ease-out, opacity 0.5s ease-out;
} */