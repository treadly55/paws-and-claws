/* /src/style.css */
/* Friday, 11 April 2025 2:21 AM AEST - Correct Fullscreen Button CSS */

/* Basic Reset / Body Styling */
body {
  margin: 0;
  overflow: hidden; 
  font-family: sans-serif; 

  /* --- Background Image Styling --- */
  background-color: #222; /* Fallback color */
  background-size: cover; /* Scale image to cover viewport */
  background-position: center center; /* Center the image */
  background-repeat: no-repeat; /* <<< ENSURE THIS LINE IS PRESENT */
  
  /* Optional: Add a transition for the background change */
  transition: background-image 0.3s ease-in-out; 
  /* --- End Background Image Styling --- */
}

/* Use Flexbox on the main app container to center its child */
#app {
  display: flex;
  justify-content: center; /* Center horizontally */
  align-items: center;    /* Center vertically */
  min-height: 100vh;      /* Ensure it takes full viewport height */
  width: 100vw;           /* Ensure it takes full viewport width */
}

/* Container for the whole button unit */
#button-assembly {
  /* This container holds the bezel. Centering is handled by #app. */
  padding: 1px; /* Prevent empty rule */
}

/* The outer gray ring */
#bezel {
  /* Size of the outer ring */
  width: 35vmin;
  height: 35vmin;
  /* Optional maximum size */
  max-width: 290px;
  max-height: 290px;

  /* Make it round */
  border-radius: 50%;

  /* Base color */
  background-color: #E0E0E0;

  /* Gradient overlay for lighting effect */
  background-image: linear-gradient(
    to bottom,
    #F5F5F5 0%,  /* Lighter color at the top */
    #D5D5D5 100% /* Slightly darker color at the bottom */
  );

  /* Refined layered shadows for rounded profile & separation */
  box-shadow:
    /* Outer shadow for lift (bottom-right) */
    2px 2px 5px rgba(0, 0, 0, 0.2),
    /* Refined darker inner edge shadow for better separation */
    inset 0px 0px 2px 1px rgba(0, 0, 0, 0.25),
    /* Inset highlight for inner top/left edge (keep for rounded feel) */
    inset 2px 2px 4px rgba(255, 255, 255, 0.7);

  /* Set position context */
  position: relative;
}

/* The inner red button */
#inner-button {
  /* Size relative to the bezel */
  width: 75%;
  height: 75%;

  /* Make it round */
  border-radius: 50%;

  /* Gradient for lighting and color variation (Darker, Inverse) */
  background-image: radial-gradient(
    circle at 50% 70%, /* Position the 'highlight' towards the bottom-center */
    #B83340 0%,        /* Darker 'highlight' color */
    #8F1521 50%,       /* Darker mid-tone, reaching further */
    #580C1F 95%        /* Very dark shadow color at the top edge */
  );

  /* Inset shadow for edge and 3D effect (matching inverse gradient) */
  box-shadow:
    /* Edge definition */
    inset 0px 0px 0px 2px rgba(88, 12, 31, 0.7),
    /* Darker inset shadow at the top edge */
    inset 0px 3px 5px rgba(0, 0, 0, 0.35),
    /* Optional faint lighter inset highlight at the bottom edge */
    inset 0px -1px 1px rgba(255, 255, 255, 0.1);

  /* --- Positioning --- */
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%); /* Base transform */
  /* --- End Positioning --- */

  /* Indicate it's interactive */
  cursor: pointer;

  /* Prevent user text selection */
  user-select: none;
  -webkit-user-select: none; /* Safari */
  -moz-user-select: none; /* Firefox */
  -ms-user-select: none; /* IE/Edge */
}

/* Depressed State Styling */
#inner-button.button-depressed {
  /* Scale down slightly */
  transform: translate(-50%, -50%) scale(0.95); /* Combine scale with centering transform */

  /* Adjust shadows to look flatter/pushed in */
  box-shadow:
    /* Edge definition (keep or adjust?) */
    inset 0px 0px 0px 2px rgba(88, 12, 31, 0.7),
    /* Flattened/darker overall inset shadow */
    inset 0px 1px 3px rgba(0, 0, 0, 0.5); /* Reduced highlight/shadow depth */
}

/* Apply transitions only after initial render via JS */
body.transitions-ready #inner-button {
  transition: transform 0.1s ease-in-out,
              box-shadow 0.1s ease-in-out,
              background-image 0.1s ease-in-out;
}

/* --- Fullscreen Button Styling --- */
#fullscreen-btn {
  position: fixed; /* Position relative to the viewport */
  bottom: 15px;
  right: 15px;
  background-color: rgba(50, 50, 50, 0.7);
  color: white; /* Affects text, not necessarily SVG fill */
  border: 1px solid rgba(255, 255, 255, 0.5);
  border-radius: 5px;
  padding: 5px;
  cursor: pointer;
  opacity: 0.7;
  transition: opacity 0.2s ease-in-out;
  z-index: 100; /* Ensure it's above other elements */

  /* --- CORRECTED: Use Flexbox for centering icon --- */
  display: inline-flex; /* Treat button like inline-block but with flex powers */
  align-items: center;    /* Vertically center content (SVG) */
  justify-content: center; /* Horizontally center content (SVG) */
  /* --- End Correction --- */
}

#fullscreen-btn:hover {
  opacity: 1;
}

#fullscreen-btn svg {
  display: block; /* Keep SVGs as blocks */
  fill: currentColor; /* Make SVG icon use the button's text color (white) */
  /* vertical-align: middle; */ /* REMOVED */
}

/* Style for showing/hiding icons based on fullscreen state */
body.is-fullscreen #fullscreen-btn svg:first-of-type {
    display: none; /* Hide expand icon when fullscreen */
}
body:not(.is-fullscreen) #fullscreen-btn svg:last-of-type {
    display: none; /* Hide contract icon when not fullscreen */
}
/* --- End Fullscreen Button Styling --- */